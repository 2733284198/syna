{{- $bg := .Params.background | default "secondary" -}}
{{- .page_scratch.Add "js" ("syna-react.js" | relURL) -}}
{{- .page_scratch.Add "js" ("syna-editor.js" | relURL) -}}
{{- .page_scratch.Set "react" true -}}
{{ "<!-- Editor -->" | safeHTML }}

<section id="{{ .Name }}">
  <div data-portal class="overlay container-fluid
    {{- printf " bg-%s" $bg -}}
  "></div>
</section>
<script>
  (window.editors || (window.editors = [])).push({
    ui: JSON.parse({{ readFile (printf "%s%s/ui.md" .page.Dir .Name) | safeHTML }}),
    schema: JSON.parse({{ readFile (printf "%s%s/schema.md" .page.Dir .Name) | safeHTML }}),
    container: {{ printf "#%s [data-portal]" .Name }}
  });
</script>
