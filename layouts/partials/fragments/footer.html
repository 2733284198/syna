{{ $data := ($.Scratch.Get "data") }}
{{ "<!-- Footer -->" | safeHTML }}
{{ $bg := $data.background | default "dark"}}
<div class="overlay container-fluid
  {{- printf " bg-%s" $bg -}}
">
  <div class="container py-5">
    <div class="row">
      <div class="col-md m-2
        {{- if or (eq $bg "secondary") (eq $bg "primary") -}}
          {{- printf " text-%s" "dark" -}}
        {{- else -}}
          {{- printf " text-%s" "secondary" -}}
        {{- end -}}
      ">
        {{ with $data.logoTitle }}
          <h4>
            {{ . }}
          </h4>
        {{ end }}
        {{ if $data.logo }}
          <img src="{{ (printf "images/%s" $data.logo) | relURL }}" class="img-fluid w-50" alt="{{ $data.logoText }}">
        {{ else }}
          <p>
            {{ $data.logoText }}
          </p>
        {{ end }}
        {{ if $.Site.Menus.footersocial }}
          <div class="row justify-content-left ml-0">
            {{ range sort $.Site.Menus.footersocial }}
              <span class="fa-stack fa-2x mt-3">
                <a href="{{ .URL | relLangURL }}" class="
                  {{- if eq $bg "primary" -}}
                    {{- printf " text-%s" "dark" -}}
                  {{- end -}}
                ">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-{{ .Pre }} fa-stack-1x fa-fw text-light"></i>
                </a>
              </span>
            {{ end }}
          </div>
        {{ end }}
      </div>
      <div class="col-md m-2
        {{- if or (eq $bg "secondary") (eq $bg "primary") -}}
          {{- printf " text-%s" "dark" -}}
        {{- else -}}
          {{- printf " text-%s" "secondary" -}}
        {{- end -}}
      ">
        {{ with $data.linkTitle }}
          <h4>
            {{ . }}
          </h4>
        {{ end }}
        {{ if $.Site.Menus.footer }}
          <ul class="nav flex-column">
              {{ range sort $.Site.Menus.footer }}
                <li class="nav-item">
                  <a class="nav-link p-0 display-5
                    {{- if or (eq $bg "secondary") (eq $bg "primary") -}}
                      {{- printf " text-%s" "dark" -}}
                    {{- else -}}
                      {{- printf " text-%s" "secondary" -}}
                    {{- end -}}
                  " href="{{ .URL | relLangURL }}"
                    {{ if hasPrefix .URL "#" }}
                      class="anchor"
                    {{ end }}>
                    {{ .Name }}
                  </a>
                </li>
              {{ end }}
          </ul>
        {{ end }}
      </div>
      <div class="col-md m-2
        {{- if or (eq $bg "secondary") (eq $bg "primary") -}}
          {{- printf " text-%s" "dark" -}}
        {{- else -}}
          {{- printf " text-%s" "secondary" -}}
        {{- end -}}
      ">
        {{ with $data.descriptionTitle }}
          <h4>
            {{ . }}
          </h4>
        {{ end }}
        {{ with $data.description }}
          <p>
            {{ . | markdownify }}
          </p>
        {{ end }}
      </div>
    </div>
  </div>
</div>
